<!DOCTYPE html><html><head><meta charset="utf-8"><title>第五讲：Kidney Exchange 肾脏交换（二） | 【盗泉】</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="description" content="三、AER(2007)既然肾脏交换的轮换大小有了限定，那么这个限定到底是多少就是一门学问了，大了太复杂，小了又会有很多的轮换不能进行，所以AER(2007)这篇文章就考察了，如果我们允许轮换中的人数最多是2人、3人或4人，分别能够解决多少患者呢？首先，我们需要进一步剖析这个肾脏交换市场。上面我们已经提到，所谓的肾脏不适合，主要就是血型不适合和组织不适合，由于总共有四种血型（这里就先不考虑RH阴性的"><meta property="og:type" content="article"><meta property="og:title" content="第五讲：Kidney Exchange 肾脏交换（二）"><meta property="og:url" content="http://sx349.github.io/2015/07/03/ECON11/index.html"><meta property="og:site_name" content="【盗泉】"><meta property="og:description" content="三、AER(2007)既然肾脏交换的轮换大小有了限定，那么这个限定到底是多少就是一门学问了，大了太复杂，小了又会有很多的轮换不能进行，所以AER(2007)这篇文章就考察了，如果我们允许轮换中的人数最多是2人、3人或4人，分别能够解决多少患者呢？首先，我们需要进一步剖析这个肾脏交换市场。上面我们已经提到，所谓的肾脏不适合，主要就是血型不适合和组织不适合，由于总共有四种血型（这里就先不考虑RH阴性的"><meta property="article:published_time" content="2015-07-03T07:00:00.000Z"><meta property="article:modified_time" content="2020-06-08T23:32:08.404Z"><meta property="article:author" content="sx349"><meta property="article:tag" content="匹配理论"><meta property="article:tag" content="理论经济学"><meta property="article:tag" content="器官移植"><meta name="twitter:card" content="summary"><link rel="icon" href="/favicon.png"><link href="https://fonts.googleapis.com/css?family=Lato:400,400i,700" rel="stylesheet"><link rel="stylesheet" href="/icomoon/style.css"><link rel="stylesheet" href="/style.css"><meta name="generator" content="Hexo 4.2.1"><link rel="alternate" href="/atom.xml" title="【盗泉】" type="application/atom+xml"></head><body><div class="site-wrapper"><div id="loading-bar-wrapper"><div id="loading-bar"></div></div><script>document.getElementById("loading-bar").style.width="20%"</script><header id="header" class="site-header clearfix"><a class="logo square clearfix" href="/"><span class="b">【 </span><span class="b">盗 </span><span class="b">泉 </span><span class="b">】 </span></a><a class="me square site-nav-switch clearfix"><span class="b"><span class="icon icon-menu"></span></span></a></header><script>document.getElementById("loading-bar").style.width="40%"</script><main id="main" class="clearfix"><article id="post-ECON11" class="article white-box article-type-post" itemscope itemprop="blogPost"><header class="article-header"><h1 class="article-title" itemprop="name">第五讲：Kidney Exchange 肾脏交换（二）</h1><div class="article-meta">Posted on <time class="article-time" datetime="2015-07-03T07:00:00.000Z" itemprop="datePublished">Jul 3, 2015</time></div><div class="article-meta">Category: <a class="category-link" href="/categories/%E7%BB%8F%E6%B5%8E/">经济</a><div class="article-tags"><a class="tag-link" href="/tags/%E5%8C%B9%E9%85%8D%E7%90%86%E8%AE%BA/" rel="tag">匹配理论</a><a class="tag-link" href="/tags/%E5%99%A8%E5%AE%98%E7%A7%BB%E6%A4%8D/" rel="tag">器官移植</a><a class="tag-link" href="/tags/%E7%90%86%E8%AE%BA%E7%BB%8F%E6%B5%8E%E5%AD%A6/" rel="tag">理论经济学</a></div></div></header><div class="article-entry" itemprop="articleBody"><p>三、AER(2007)<br>既然肾脏交换的轮换大小有了限定，那么这个限定到底是多少就是一门学问了，大了太复杂，小了又会有很多的轮换不能进行，所以AER(2007)这篇文章就考察了，如果我们允许轮换中的人数最多是2人、3人或4人，分别能够解决多少患者呢？</p><p>首先，我们需要进一步剖析这个肾脏交换市场。上面我们已经提到，所谓的肾脏不适合，主要就是血型不适合和组织不适合，由于总共有四种血型（这里就先不考虑RH阴性的问题啦），“患者-捐献者”的组合一共就有16种。把这16种组合分成四组来考虑：<br>I. 血型一致： A-A B-B O-O AB-AB<br>II. 只看血型，捐献者可以给患者献血的：A-O B-O AB-O AB-A AB-B<br>III. 只看血型，患者可以给捐献者献血的：O-A O-B O-AB A-AB B-AB<br>IV. 相互都不能献血的：A-B B-A</p><p>前两组是血型适合的，这样的“患者-捐献者”组合进入市场，只能是因为组织不适合，而后两组则是血型不适合的。我们对比一下第二组和第三组，显然A-O和O-A从概率上来说应该是同一数量级的，但是由于A-O只有组织不适合的进入了市场，所以市场上的A-O组合一定远远少于O-A组合；其它的对应组合也是同理。</p><p>现在我们来做一些方便我们继续下一步的假设：</p><p>假设0：所有市场上的“患者-捐献者”组合，捐献者都不能把肾脏直接给患者，或是由于血型不适合，或是由于组织不适合。<br>之所以是假设0，因为这是市场的隐含前提，所以这篇论文并没有把这个列在自己的假设当中……</p><p>假设1：（大市场假设）任意一个患者和除了自己的捐献者之外的捐献者都没有组织不适合的问题。<br>因为市场足够大，我们可以假定每个患者总能在任意一个血型中找到充分多个和自己组织适合的捐献者，写成假设1这样只是进一步的简化了而已。</p><p>假设2：（长期假设）对于第三组的任意一个组合，经过配对之后一定都会剩下至少一对。<br>很容易验证，第三组的“患者-捐献者”组合想要进入轮换，一定会消耗掉一个第二组的组合，而第二组的组合本身是血型适合的，只有组织不适合的时候才会进入市场，因此第二组的数量远比第三组的数量要少，长期来看，最后第三组的组合一定都会剩下来。</p><p>假设3：统计数据显示市场上A-B的组合数比B-A的组合数更多。<br>这就是统计数据，没说的……</p><p>好了，接下来我们要做的就是血型连连看：</p><p>1) 当最多只能进行2个组合对换时，显然的，每个第二组的组合可以解救一个第三组的组合，最后第二组全部用完，剩下第三组的。</p><p>对于任意第一组的组合X-X，如果和Y-Z进行对换，则从血型上来说，Z能给X输血，X能给Y输血，故Z能给Y输血，即Y-Z是血型适合的，要么是第一组内部解决，要么Y-Z是第二组的。如果是前者，每次匹配掉两个X-X；如果是后者，X-X每消耗一个第二组的组合，相应的第三组就少一个组合被解决，这是一换一，没有意义。所以第一组的每个组合都选择内部两两配对，最后有落单的就落单。</p><p>对于任意第三组的组合X-Y，如果和Z-W进行对换，W能给X输血，X能给Y输血，Y能够Z输血，所以W能给Z输血，但显然W和Z是不同的（否则X和Y就相同了），所以能解决第三组的一定只有第二组，在消耗完第二组的之后，第三组剩下的都不能解决。</p><p>对于任意第四组的组合，不妨假定是A-B，要么就用B-A解决，要么就用第二组的B-O，AB-A或者AB-O解决，显然后者还是一换一，没有意义，所以所有的A-B和B-A内部组合解决掉，两个组合哪个多就剩哪个，根据假设3，A-B就会剩下来。</p><p>所以当最多只能进行2个组合对换时，解决掉的组合数是：<br>N2=2*N(II)+2*N(B-A)+2*([N(A-A)/2]+[N(B-B)/2]+[N(O-O)/2]+[N(AB-AB)/2])<br>后面括号里的是下取整。</p><p>简单的解释一下，每个第二组的组合解决了两个组合，A-B和B-A中较少的那个（B-A）每次解决了两个组合，而第一组每种组合都内部解决了所有成对的。</p><p>2) 当最多只能进行3个组合轮换时，我们来看看，多出了哪些新选择：<br>首先，所有的X-X组合可以被塞进任意的对换中去了，所以X-X不会再有落单的组合了。<br>其次，AB-O这个组合可以通过和O-A A-AB或者O-B B-AB组成轮换，一次性解救两个第三组组合<br>第三，多出来的A-B组合，可以构成A-B B-O O-A或者A-B B-AB AB-A这样的轮换，从而被解救。</p><p>因此，此时能够解决的组合数变为：<br>N3=2*N(II)+2*N(B-A)+N(I)+N(AB-O)+min{N(A-B)-N(B-A),N(B-O)+N(AB-A)}</p><p>还是解释一下，首先每个第二组的组合至少解决了两个组合，但AB-O还能多解决一个第三组的组合；B-A每次解决两个组合没有变；第一组所有的组合都解决了，不用考虑落单了；最后，多出来的A-B可以加塞到B-O和AB-A的队伍中，就看是加塞的和被加塞的哪个更少一点了。</p><p>做个减法，我们有<br>N3-N2=k+N(AB-O)+min{N(A-B)-N(B-A),N(B-O)+N(AB-A)}<br>这里面的k就是第一组中落单的数量，最小是0最大是4。</p><p>3) 当最多只能进行4个组合轮换时，新增加的选择是，A-B可以构成A-B B-AB AB-O O-A这样的轮换，所以A-B可以靠加塞进AB-O来解救了，其它所有组合都没有新增成员。<br>N4=2*N(II)+2*N(B-A)+N(I)+N(AB-O)+min{N(A-B)-N(B-A),N(B-O)+N(AB-A)+N(AB-O)}<br>所以<br>N4-N3&lt;=N(AB-O)</p><p>可以看出，N4-N3显然小于N3-N2，从成本收益的角度考虑，选择最多允许3个组合进行轮换应当是最佳选择。模拟的结果也是如此，人口总数为100的模拟中，只能两人对换时，解救的患者期望为49.708人，允许三人轮换上升到59.714人，允许四人轮换上升到60.354人，而不加限定的结果是60.39人，从两人到三人提高了10个百分点，而三人到四人只提高了0.6个百分点。</p><p>这里留一个小问题，为什么我们只考虑到四人就结束了？是因为我们发现三人到四人的提升空间已经很小了，后面越来越小不用考虑？还是因为之前说的现实情况限定了最多只能同时进行八台手术进行私人兑换？抑或是作者其实先做了模拟实验发现四人轮换的结果已经和没有限定很接近了所以就只讨论到四人？这个问题我们留到下一讲介绍肝脏交换市场的时候一并来解决。</p><hr><p>（2015.07.03 @ 微信公众号 @ 《第五讲：Kidney Exchange 肾脏交换（二）》）</p><hr></div><section id="comments" class="white-box"><div id="disqus_thread"><noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript" target="_blank" rel="noopener">comments powered by Disqus.</a></noscript></div></section></article><script>document.getElementById("loading-bar").style.width="60%"</script></main><footer id="footer" class="clearfix"><div class="search"><form name="searchform" id="searchform" class="u-search-form"><input type="text" id="searchinput" class="u-search-input st-default-search-input" data-list-highlight="true" data-list-value-completion="true" placeholder="当你凝视深渊的时候，深渊也在凝视你。"> <button type="submit" id="u-search-btn-submit" class="u-search-btn-submit"><span class="icon icon-search"></span></button></form></div><div><a href="/about">sx349</a> &copy; 2008 - 2020 | <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener">CC BY-NC-SA 4.0</a></div><div>Theme <a href="https://github.com/artchen/hexo-theme-element" target="_blank">Element </a>by <a href="http://artifact.me/" target="_blank">Art Chen</a> | Powered by <a href="https://hexo.io/" target="_blank" rel="external noopener">Hexo</a></div></footer><script>document.getElementById("loading-bar").style.width="80%"</script><div class="overlay"></div></div><div class="site-sidebar"><div class="sidebar-switch clearfix" style="display:none"><a class="dark-btn active" data-toggle="toc"><span class="icon icon-list"></span> <span class="text">Index</span> </a><a class="dark-btn" data-toggle="bio"><span class="icon icon-person"></span> <span class="text">Bio</span></a></div><div class="site-toc" style="display:none"><div class="no-index">No Index</div></div><div class="site-bio show" style="display:block"><div class="about-me clearfix"><a class="avatar" href="/about"><img src="/img/avatar.png"></a><div class="info"><a class="name dark-btn" href="/about">sx349</a></div><div class="info"><span class="item desc">阅读 · 译介 · 创作</span></div></div><div class="social clearfix" style="margin:5px 0"><a href="https://sites.google.com/view/yejiaxu/" class="google" target="_blank" rel="external"><span class="icon icon-google"></span> </a><a href="https://www.zhihu.com/people/richard-xu-25" class="zhihu_1343420" target="_blank" rel="external"><span class="icon icon-zhihu_1343420"></span> </a><a href="https://pe-cn.github.io" class="calculator" target="_blank" rel="external"><span class="icon icon-calculator"></span> </a><a href="https://sx349.github.io/econ-notes" class="feed" target="_blank" rel="external"><span class="icon icon-feed"></span> </a><a href="#header" class="nav"><span class="icon icon-chevron-thin-up"></span> </a><a href="#footer" class="nav"><span class="icon icon-chevron-thin-down"></span></a></div><div class="article-tags-sidebar" style="margin:5px 0"><a href="/categories" style="font-size:13px;color:#a9a9a9;margin-bottom:5px">- 分类 -<br></a><a class="category-link" href="/categories/%E6%9D%82%E8%B0%88/">杂谈</a><a class="category-link" href="/categories/%E7%BB%8F%E6%B5%8E/">经济</a><a class="category-link" href="/categories/%E5%88%9B%E4%BD%9C/">创作</a><br><a href="/tags" style="font-size:13px;color:#a9a9a9;margin-bottom:5px">- 标签 -<br></a><a class="tag-link" href="/tags/1984/" rel="tag">1984</a><a class="tag-link" href="/tags/ASCII/" rel="tag">ASCII</a><a class="tag-link" href="/tags/Unicode/" rel="tag">Unicode</a><a class="tag-link" href="/tags/%E4%B8%89%E8%A7%82/" rel="tag">三观</a> <a class="tag-link" href="/tags">MORE</a><br><a href="/archive" style="font-size:13px;color:#a9a9a9;margin-bottom:5px">- 归档 -<br></a></div></div></div><script type="text/javascript">var GOOGLE_CUSTOM_SEARCH_API_KEY="",GOOGLE_CUSTOM_SEARCH_ENGINE_ID="",ALGOLIA_API_KEY="",ALGOLIA_APP_ID="",ALGOLIA_INDEX_NAME="",AZURE_SERVICE_NAME="",AZURE_INDEX_NAME="",AZURE_QUERY_KEY="",BAIDU_API_ID="",SEARCH_SERVICE="hexo"</script><script src="https://code.jquery.com/jquery-2.1.4.min.js"></script><script>window.jQuery||document.write('<script src="/js/jquery.js"><\/script>')</script><script src="/js/search.js"></script><script src="/js/app.js"></script><script type="text/javascript">var disqus_shortname="sx349",disqus_url="http://sx349.github.io/2015/07/03/ECON11/";!function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="//"+disqus_shortname+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)}()</script><script type="text/x-mathjax-config">MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
      processEscapes: true,
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
  });</script><script type="text/x-mathjax-config">MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for (i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });</script><script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script>document.getElementById("loading-bar").style.width="100%"</script></body></html>